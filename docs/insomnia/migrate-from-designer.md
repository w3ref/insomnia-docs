---
layout: article-detail
title:  Миграция из Designer
category: "Начать"
category-url: get-started
---

С выпуском 2021.1.0 Insomnia Designer и Insomnia Core были объединены в одно приложение Insomnia. Insomnia Designer устарел и больше не будет получать обновления. Чтобы обеспечить плавный переход пользователей Designer на Insomnia v2021.1, мы создали автоматизированный рабочий процесс миграции.

## Миграция

Если вы были пользователем Insomnia Designer, вам будет представлен поток миграции данных с вопросом, какие данные вы хотите перенести. Если миграция прошла успешно, вы получите уведомление и запрос на перезапуск приложения.

![В модальном окне миграции показаны различные варианты миграции для копирования рабочих областей, плагинов и настроек приложения дизайнера.](/assets/images/migration-modal.png)
_В модальном окне миграции показаны различные варианты миграции для копирования рабочих областей, плагинов и настроек приложения дизайнера._

{:.alert .alert-primary}
**Примечание**: Если вы решите пропустить миграцию, вы всегда можете повторно открыть поток миграции данных, выбрав Preferences > General >  Migrate from Designer.

## Резервное копирование

Когда начнется миграция, резервная копия ваших данных будет создана в <app-data-dir>/insomnia/core-backup.

`app-data-dir` хранится в следующем месте:

* `%APPDATA%/Insomnia` в Windows
* `$XDG_CONFIG_HOME/Insomnia` или `~/.config/Insomnia` в Linux
* `~/Library/Application Support/Insomnia` в macOS

В текущем состоянии при каждой миграции эта резервная копия перезаписывается непосредственно перед началом миграции.

## Восстановить из резервной копии

Если во время миграции возникнет непредвиденная ошибка, вам будет показана возникшая ошибка. Каталог данных будет восстановлен из резервной копии, и вам будет предложено перезапустить приложение.

## Ручное восстановление

Вы также можете выбрать восстановление вручную из каталога резервных копий, созданного в <app-data-dir>/insomnia/core-backup. В текущем состоянии при каждой миграции эта резервная копия перезаписывается непосредственно перед началом миграции. Где находится app-data-dir?

Каталог <app-data-dir>/insomnia/core-backup содержит следующие данные:

* insomnia.{model}.db файлы базы данных
* папка плагинов
* папка ответов
* папка управления версиями

Каждый из этих элементов также существует в родительской папке <app-data-dir>/insomnia, которая содержит «текущие» данные, используемые приложением.

Чтобы восстановить вручную:

1. Закройте Insomnia
2. Удалите подключаемые модули, ответы и папки управления версиями в каталоге <app-data-dir>/insomnia
3. Скопируйте и вставьте все из <app-data-dir>/insomnia/core-backup в <app-data-dir>/insomnia, перезаписав все, что существует
4. Запустите Insomnia

## Крайние случаи

Существуют потенциальные крайние случаи, когда пользователь переместил свою рабочую область из Core в Designer несколько месяцев назад, а теперь объединяет ту же рабочую область (с тем же идентификатором) из Designer обратно в Core. Это слияние не удалит никаких дочерних элементов рабочей области (например, запросы, группы запросов, сертификаты и т.д.), Но если будет обнаружен повторяющийся идентификатор, предпочтение будет отдано данным, поступающим из Designer.

В маловероятном сценарии, когда вы не видите свои запросы или рабочую область в Insomnia после миграции, вы можете попытаться восстановить из резервной копии, как описано выше. В качестве альтернативы, поскольку миграция является в основном аддитивной и ничего не удаляет из существующей базы данных (она будет перезаписана, если будет найден тот же идентификатор, что и в предыдущем абзаце), некоторые записи могли стать потерянными. Придется немного покопаться, но вы можете найти потерянные записи, открыв файлы insomnia.{model}.db.

Если вы сталкиваетесь с потерянными записями или не видите данных, которые вы ожидаете увидеть при запуске Insomnia, отправьте электронное письмо в [Поддержку](mailto:support@insomnia.rest) с описанием ваших действий, включая журналы приложений, и команда поможет где возможно.